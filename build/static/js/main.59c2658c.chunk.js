(this.webpackJsonpto_do_app=this.webpackJsonpto_do_app||[]).push([[0],{25:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var a=n(2),c=n.n(a),i=n(18),s=n.n(i),r=(n(25),n(20)),o=n(3),d=n(4),l=n(6),h=n(5),u=n(9),p=n.n(u),j=n(19),v=n(7),f=n.n(v),b=n(0),m=function(t){var e=t.task,n=e.text,a=e.date,c=e.active,i=e.important,s=e.finishDate;if(c)return Object(b.jsxs)("div",{className:"active_task",children:[Object(b.jsxs)("span",{style:i?{color:"#FF485C",fontWeight:"700"}:null,children:[n," ",Object(b.jsx)("span",{className:"active_date",children:a})]}),Object(b.jsxs)("div",{className:"active_buttons",children:[Object(b.jsx)("div",{onClick:function(){return[t.updateActive(t._id),window.location.reload(!1)]},children:"Done"}),Object(b.jsx)("div",{onClick:function(){return[t.deleteDB(t._id),window.location.reload(!1)]},children:"Remove"})]})]});var r=new Date(s).toISOString().slice(0,10);return Object(b.jsx)("div",{className:"done_task",children:Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:n}),Object(b.jsx)("span",{className:"finish_date",children:r}),Object(b.jsx)("div",{className:"done_btn",onClick:function(){return[t.deleteDB(t._id),window.location.reload(!1)]},children:"Remove"})]})})},x=function(t){var e=t.tasks.filter((function(t){return t.active})),n=t.tasks.filter((function(t){return!t.active}));n.length>=2&&n.sort((function(t,e){return t.finishDate<e.finishDate?1:t.finishDate>e.finishDate?-1:0})),e.length>=2&&e.sort((function(t,e){return(t=t.text.toLowerCase())<(e=e.text.toLowerCase())?-1:t>e?1:0}));var a=e.map((function(e){return Object(b.jsx)(m,{task:e,_id:e._id,updateActive:t.updateActive,deleteDB:t.deleteDB},e.id)})),c=n.map((function(e){return Object(b.jsx)(m,{task:e,_id:e._id,deleteDB:t.deleteDB},e.id)}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"active",children:[Object(b.jsx)("p",{children:"Tasks to be done:"}),a.length>0?a:Object(b.jsx)("p",{children:"You have free time"})]}),Object(b.jsxs)("div",{className:"done",children:[Object(b.jsxs)("p",{children:["Tasks done: ",n.length]}),n.length>5&&Object(b.jsx)("p",{children:"The last 5 tasks have been displayed"}),c.slice(0,5)]})]})},O=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={text:"",checked:!1,date:(new Date).toISOString().slice(0,10),active:!0,newActive:!1,finishDate:"",newFinishDate:(new Date).toISOString().slice(0,10)},t.deleteDB=function(t){f.a.delete("https://app-todoapp.herokuapp.com/delete/".concat(t))},t.updateActive=function(e){f.a.put("https://app-todoapp.herokuapp.com/update",{id:e,newActive:t.state.newActive,newFinishDate:t.state.newFinishDate})},t.handleClick=function(){var e=t.state,n=e.text,a=e.date,c=e.checked;n.length>2&&t.props.add(n,a,c)},t.handleText=function(e){t.setState({text:e.target.value})},t.handleCheckbox=function(e){t.setState({checked:e.target.checked})},t.handleDate=function(e){t.setState({date:e.target.value})},t.onFormSubmit=function(){var e=Object(j.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={active:t.state.active,date:t.state.date,finishDate:t.state.finishDate,important:t.state.checked,text:t.state.text},e.next=3,f.a.post("https://app-todoapp.herokuapp.com/insert",{todo:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(d.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("form",{className:"form",onSubmit:this.onFormSubmit,children:[Object(b.jsx)("input",{className:"add_task",type:"text",name:"text",placeholder:"Add task...",onFocus:function(t){return t.target.placeholder=""},onBlur:function(t){return t.target.placeholder="Add task..."},onChange:this.handleText}),Object(b.jsxs)("div",{className:"priority",children:[Object(b.jsx)("input",{id:"important",type:"checkbox",checked:this.state.checked,onChange:this.handleCheckbox}),Object(b.jsx)("label",{htmlFor:"important",children:"Important"})]}),Object(b.jsx)("input",{className:"date",type:"date",value:this.state.date,onChange:this.handleDate}),Object(b.jsx)("button",{className:"add_btn",onClick:this.handleClick,children:"Add"})]}),Object(b.jsx)(x,{tasks:this.props.tasks,delete:this.props.delete,change:this.props.change,updateActive:this.updateActive,deleteDB:this.deleteDB,myId:this.props.myId})]})}}]),n}(a.Component),k=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={time:new Date},t.changeWelcomeTxt=function(){var e="";return t.state.time.getHours()<12?e="Good morning,":t.state.time.getHours()>12&&t.state.time.getHours()<18?e="Good afternoon,":t.state.time.getHours()>18&&(e="Good evening,"),e},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){return t.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({time:new Date})}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"time",children:[Object(b.jsx)("div",{className:"welcome_txt",children:Object(b.jsx)("h1",{children:this.changeWelcomeTxt()})}),Object(b.jsx)("p",{children:this.state.time.toLocaleTimeString()})]})}}]),n}(a.Component),g=(n(46),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={tasks:[]},t.changeTaskStatus=function(e){var n=Object(r.a)(t.state.tasks);n.forEach((function(t){t.id===e&&(t.active=!1,t.finishDate=(new Date).getTime())})),t.setState({tasks:n})},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this;f.a.get("https://app-todoapp.herokuapp.com/read").then((function(n){t.setState(n.data),e.setState({tasks:n.data})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(k,{}),Object(b.jsx)(O,{tasks:this.state.tasks})]})}}]),n}(a.Component)),D=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),i(t),s(t)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),D()}},[[47,1,2]]]);
//# sourceMappingURL=main.59c2658c.chunk.js.map